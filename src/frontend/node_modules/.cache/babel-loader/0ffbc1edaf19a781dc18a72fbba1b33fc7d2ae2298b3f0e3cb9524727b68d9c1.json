{"ast":null,"code":"var _jsxFileName = \"C:\\\\study\\\\Legend_Project\\\\Voice_NFT_Trading\\\\src\\\\frontend\\\\src\\\\pages\\\\auth\\\\AuthSuccessPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { CheckCircle, Loader } from \"lucide-react\";\nimport { getTokenFromUrl, getErrorFromUrl, cleanUrl } from \"../../utils/auth\";\nimport { useAppContext } from \"../../contexts/AppContext\";\nimport { useToast } from \"../../hooks/useToast\";\nimport apiService from \"../../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PageContainer = styled.div`\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(\n    135deg,\n    #f0fdfa 0%,\n    #ffffff 35%,\n    #f0f9ff 65%,\n    #ecfdf5 100%\n  );\n`;\n_c = PageContainer;\nconst Card = styled.div`\n  background: white;\n  border-radius: 24px;\n  padding: 3rem;\n  box-shadow: 0 32px 64px -12px rgba(0, 0, 0, 0.08);\n  text-align: center;\n  max-width: 400px;\n  width: 100%;\n  margin: 1rem;\n`;\n_c2 = Card;\nconst IconContainer = styled.div`\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #10b981, #0891b2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto 1.5rem;\n  color: white;\n`;\n_c3 = IconContainer;\nconst Title = styled.h1`\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: #1f2937;\n  margin-bottom: 0.5rem;\n`;\n_c4 = Title;\nconst Description = styled.p`\n  color: #6b7280;\n  font-size: 0.9rem;\n  line-height: 1.5;\n`;\n_c5 = Description;\nconst LoadingContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  margin-top: 1rem;\n`;\n_c6 = LoadingContainer;\nconst Spinner = styled(Loader)`\n  animation: spin 1s linear infinite;\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n`;\n_c7 = Spinner;\nfunction AuthSuccessPage() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    setUser\n  } = useAppContext();\n  const {\n    showToast\n  } = useToast();\n  useEffect(() => {\n    const handleAuth = async () => {\n      const token = getTokenFromUrl();\n      const error = getErrorFromUrl();\n      if (error) {\n        showToast.error(\"로그인 중 오류가 발생했습니다.\");\n        navigate(\"/login\");\n        return;\n      }\n      if (token) {\n        try {\n          // 토큰 저장\n          apiService.setToken(token);\n\n          // 사용자 정보 가져오기\n          const userProfile = await apiService.auth.getProfile();\n          setUser(userProfile);\n          showToast.success(\"로그인이 완료되었습니다!\");\n\n          // URL 정리 후 대시보드로 이동\n          cleanUrl();\n          navigate(\"/dashboard\");\n        } catch (error) {\n          console.error(\"Authentication error:\", error);\n          showToast.error(\"사용자 정보를 가져오는데 실패했습니다.\");\n          navigate(\"/login\");\n        }\n      } else {\n        showToast.error(\"인증 토큰을 찾을 수 없습니다.\");\n        navigate(\"/login\");\n      }\n    };\n    handleAuth();\n  }, [navigate, setUser, showToast]);\n  return /*#__PURE__*/_jsxDEV(PageContainer, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(IconContainer, {\n        children: /*#__PURE__*/_jsxDEV(CheckCircle, {\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Title, {\n        children: \"\\uB85C\\uADF8\\uC778 \\uC131\\uACF5!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Description, {\n        children: [\"\\uACC4\\uC815 \\uC815\\uBCF4\\uB97C \\uD655\\uC778\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), \"\\uC7A0\\uC2DC\\uB9CC \\uAE30\\uB2E4\\uB824\\uC8FC\\uC138\\uC694.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoadingContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Spinner, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uCC98\\uB9AC \\uC911...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthSuccessPage, \"rPXmKTxZ5R5hlPi60lBDABEbwsc=\", false, function () {\n  return [useNavigate, useAppContext, useToast];\n});\n_c8 = AuthSuccessPage;\nexport default AuthSuccessPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"PageContainer\");\n$RefreshReg$(_c2, \"Card\");\n$RefreshReg$(_c3, \"IconContainer\");\n$RefreshReg$(_c4, \"Title\");\n$RefreshReg$(_c5, \"Description\");\n$RefreshReg$(_c6, \"LoadingContainer\");\n$RefreshReg$(_c7, \"Spinner\");\n$RefreshReg$(_c8, \"AuthSuccessPage\");","map":{"version":3,"names":["React","useEffect","useNavigate","styled","CheckCircle","Loader","getTokenFromUrl","getErrorFromUrl","cleanUrl","useAppContext","useToast","apiService","jsxDEV","_jsxDEV","PageContainer","div","_c","Card","_c2","IconContainer","_c3","Title","h1","_c4","Description","p","_c5","LoadingContainer","_c6","Spinner","_c7","AuthSuccessPage","_s","navigate","setUser","showToast","handleAuth","token","error","setToken","userProfile","auth","getProfile","success","console","children","size","fileName","_jsxFileName","lineNumber","columnNumber","_c8","$RefreshReg$"],"sources":["C:/study/Legend_Project/Voice_NFT_Trading/src/frontend/src/pages/auth/AuthSuccessPage.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { CheckCircle, Loader } from \"lucide-react\";\r\nimport { getTokenFromUrl, getErrorFromUrl, cleanUrl } from \"../../utils/auth\";\r\nimport { useAppContext } from \"../../contexts/AppContext\";\r\nimport { useToast } from \"../../hooks/useToast\";\r\nimport apiService from \"../../services/api\";\r\n\r\nconst PageContainer = styled.div`\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: linear-gradient(\r\n    135deg,\r\n    #f0fdfa 0%,\r\n    #ffffff 35%,\r\n    #f0f9ff 65%,\r\n    #ecfdf5 100%\r\n  );\r\n`;\r\n\r\nconst Card = styled.div`\r\n  background: white;\r\n  border-radius: 24px;\r\n  padding: 3rem;\r\n  box-shadow: 0 32px 64px -12px rgba(0, 0, 0, 0.08);\r\n  text-align: center;\r\n  max-width: 400px;\r\n  width: 100%;\r\n  margin: 1rem;\r\n`;\r\n\r\nconst IconContainer = styled.div`\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, #10b981, #0891b2);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 auto 1.5rem;\r\n  color: white;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: #1f2937;\r\n  margin-bottom: 0.5rem;\r\n`;\r\n\r\nconst Description = styled.p`\r\n  color: #6b7280;\r\n  font-size: 0.9rem;\r\n  line-height: 1.5;\r\n`;\r\n\r\nconst LoadingContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  margin-top: 1rem;\r\n`;\r\n\r\nconst Spinner = styled(Loader)`\r\n  animation: spin 1s linear infinite;\r\n\r\n  @keyframes spin {\r\n    from {\r\n      transform: rotate(0deg);\r\n    }\r\n    to {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n\r\nfunction AuthSuccessPage() {\r\n  const navigate = useNavigate();\r\n  const { setUser } = useAppContext();\r\n  const { showToast } = useToast();\r\n\r\n  useEffect(() => {\r\n    const handleAuth = async () => {\r\n      const token = getTokenFromUrl();\r\n      const error = getErrorFromUrl();\r\n\r\n      if (error) {\r\n        showToast.error(\"로그인 중 오류가 발생했습니다.\");\r\n        navigate(\"/login\");\r\n        return;\r\n      }\r\n\r\n      if (token) {\r\n        try {\r\n          // 토큰 저장\r\n          apiService.setToken(token);\r\n\r\n          // 사용자 정보 가져오기\r\n          const userProfile = await apiService.auth.getProfile();\r\n          setUser(userProfile);\r\n\r\n          showToast.success(\"로그인이 완료되었습니다!\");\r\n\r\n          // URL 정리 후 대시보드로 이동\r\n          cleanUrl();\r\n          navigate(\"/dashboard\");\r\n        } catch (error) {\r\n          console.error(\"Authentication error:\", error);\r\n          showToast.error(\"사용자 정보를 가져오는데 실패했습니다.\");\r\n          navigate(\"/login\");\r\n        }\r\n      } else {\r\n        showToast.error(\"인증 토큰을 찾을 수 없습니다.\");\r\n        navigate(\"/login\");\r\n      }\r\n    };\r\n\r\n    handleAuth();\r\n  }, [navigate, setUser, showToast]);\r\n\r\n  return (\r\n    <PageContainer>\r\n      <Card>\r\n        <IconContainer>\r\n          <CheckCircle size={32} />\r\n        </IconContainer>\r\n        <Title>로그인 성공!</Title>\r\n        <Description>\r\n          계정 정보를 확인하고 있습니다.\r\n          <br />\r\n          잠시만 기다려주세요.\r\n        </Description>\r\n        <LoadingContainer>\r\n          <Spinner size={20} />\r\n          <span>처리 중...</span>\r\n        </LoadingContainer>\r\n      </Card>\r\n    </PageContainer>\r\n  );\r\n}\r\n\r\nexport default AuthSuccessPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}